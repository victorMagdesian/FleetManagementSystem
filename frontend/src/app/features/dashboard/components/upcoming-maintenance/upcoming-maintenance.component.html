<p-card>
  <div class="upcoming-maintenance">
    <div *ngIf="vehicles.length === 0 && !loading" class="empty-state">
      <i class="pi pi-check-circle"></i>
      <p>Nenhuma manutenção próxima nos próximos 7 dias</p>
    </div>

    <p-table 
      *ngIf="vehicles.length > 0 || loading"
      [value]="vehicles" 
      [loading]="loading"
      [paginator]="false"
      styleClass="p-datatable-sm">
      <ng-template pTemplate="header">
        <tr>
          <th>Placa</th>
          <th>Modelo</th>
          <th>Próxima Manutenção</th>
          <th>Status</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-vehicle>
        <tr>
          <td>{{ vehicle.plate }}</td>
          <td>{{ vehicle.model }}</td>
          <td>
            <span class="maintenance-date">
              {{ vehicle.nextMaintenanceDate | dateFormat:'dd/MM/yyyy' }}
            </span>
          </td>
          <td>
            <app-status-badge [status]="vehicle.status"></app-status-badge>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="4" class="text-center">Nenhuma manutenção próxima</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</p-card>
